"use strict";(self.webpackChunkProjectUlises=self.webpackChunkProjectUlises||[]).push([[199],{199:(E,p,u)=>{u.r(p),u.d(p,{CheckoutPaypalModule:()=>k});var d=u(808),h=u(866),r=u(223),C=u(579);const v=["payPalButtonContainer"];let y=(()=>{class t{constructor(e){this.zone=e}registerScript(e,n,i){const l=window[n];if(l)return void this.zone.run(()=>{i(l)});const c=document.createElement("script");c.id=this.getElemId(n),c.innerHTML="",c.onload=()=>{this.zone.run(()=>{i(window[n])})},c.src=e,c.async=!0,c.defer=!0,document.getElementsByTagName("head")[0].appendChild(c)}cleanup(e){const n=document.getElementById(this.getElemId(e));n&&n.remove()}getElemId(e){return`ngx-paypal-script-elem-${e}`}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(r.R0b))},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac}),t})(),P=(()=>{class t{constructor(e){this.scriptService=e,this.paypalWindowName="paypal"}registerPayPalScript(e,n){this.scriptService.registerScript(this.getUrlForConfig(e),this.paypalWindowName,n)}destroyPayPalScript(){this.scriptService.cleanup(this.paypalWindowName)}getUrlForConfig(e){const n=[{name:"client-id",value:e.clientId}];return e.currency&&n.push({name:"currency",value:e.currency}),e.commit&&n.push({name:"commit",value:e.commit}),e.vault&&n.push({name:"vault",value:e.vault}),e.intent&&n.push({name:"intent",value:e.intent}),e.extraParams&&n.push(...e.extraParams),`https://www.paypal.com/sdk/js${this.getQueryString(n)}`}getQueryString(e){let n="";for(let i=0;i<e.length;i++){const l=e[i];n+=0===i?"?":"&",n+=`${l.name}=${l.value}`}return n}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(y))},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac}),t})(),g=(()=>{class t{constructor(e,n,i){this.paypalScriptService=e,this.cdr=n,this.ngZone=i,this.registerScript=!0,this.scriptLoaded=new r.vpe,this.ngUnsubscribe=new C.x,this.initializePayPal=!0}set payPalButtonContainer(e){this.payPalButtonContainerElem=e}ngOnChanges(e){this.payPalButtonContainerId||(this.payPalButtonContainerId=this.generateElementId());const n=this.config;e.config.isFirstChange()&&n&&this.registerScript&&this.initPayPalScript(n,i=>{this.payPal=i,this.doPayPalCheck()}),e.config.isFirstChange()||this.reinitialize(n)}ngOnDestroy(){this.paypalScriptService.destroyPayPalScript(),this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()}ngAfterViewInit(){this.doPayPalCheck()}customInit(e){this.payPal=e,this.doPayPalCheck()}reinitialize(e){if(this.config=e,this.payPal=void 0,this.paypalScriptService.destroyPayPalScript(),this.payPalButtonContainerId=this.generateElementId(),this.initializePayPal=!0,this.payPalButtonContainerElem)for(;this.payPalButtonContainerElem.nativeElement.firstChild;)this.payPalButtonContainerElem.nativeElement.removeChild(this.payPalButtonContainerElem.nativeElement.firstChild);this.cdr.detectChanges(),this.config&&(this.payPal?this.doPayPalCheck():this.initPayPalScript(this.config,n=>{this.payPal=n,this.doPayPalCheck()}))}doPayPalCheck(){this.initializePayPal&&this.config&&this.payPal&&this.payPalButtonContainerElem&&this.payPalButtonContainerElem.nativeElement.id&&(this.initializePayPal=!1,this.initPayPal(this.config,this.payPal))}initPayPalScript(e,n){this.paypalScriptService.registerPayPalScript({clientId:e.clientId,commit:e.advanced&&e.advanced.commit?e.advanced.commit:void 0,currency:e.currency,vault:e.vault,intent:e.intent,extraParams:e.advanced&&e.advanced.extraQueryParams?e.advanced.extraQueryParams:[]},i=>{this.scriptLoaded.next(i),n(i)})}generateElementId(){return`ngx-captcha-id-${(new Date).valueOf()}`}initPayPal(e,n){this.ngZone.runOutsideAngular(()=>{const b=Object.assign(Object.assign(Object.assign({style:e.style,onApprove:(o,s)=>this.ngZone.run(()=>{if(e.onApprove&&e.onApprove(o,s),e.authorizeOnServer)return e.authorizeOnServer(o,s);const m=e.onClientAuthorization;m&&s.order.capture().then(B=>{this.ngZone.run(()=>{m(B)})})}),onError:o=>{this.ngZone.run(()=>{e.onError&&e.onError(o)})},onCancel:(o,s)=>{this.ngZone.run(()=>{e.onCancel&&e.onCancel(o,s)})},onClick:(o,s)=>{this.ngZone.run(()=>{e.onClick&&e.onClick(o,s)})},onInit:(o,s)=>{this.ngZone.run(()=>{e.onInit&&e.onInit(o,s)})}},(e.createOrderOnClient||e.createOrderOnServer)&&{createOrder:(o,s)=>this.ngZone.run(()=>{if(e.createOrderOnClient&&e.createOrderOnServer)throw Error("Both 'createOrderOnClient' and 'createOrderOnServer' are defined.\n                    Please choose one or the other.");if(!e.createOrderOnClient&&!e.createOrderOnServer)throw Error("Neither 'createOrderOnClient' or 'createOrderOnServer' are defined.\n                    Please define one of these to create order.");if(e.createOrderOnClient)return s.order.create(e.createOrderOnClient(o));if(e.createOrderOnServer)return e.createOrderOnServer(o);throw Error("Invalid state for 'createOrder'.")})}),e.createSubscriptionOnClient&&{createSubscription:(o,s)=>this.ngZone.run(()=>{if(e.createSubscriptionOnClient)return s.subscription.create(e.createSubscriptionOnClient(o))})}),e.onShippingChange&&{onShippingChange:(o,s)=>this.ngZone.run(()=>{if(e.onShippingChange)return e.onShippingChange(o,s)})});n.Buttons(b).render(`#${this.payPalButtonContainerId}`)})}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(P),r.Y36(r.sBO),r.Y36(r.R0b))},t.\u0275cmp=r.Xpm({type:t,selectors:[["ngx-paypal"]],viewQuery:function(e,n){if(1&e&&r.Gf(v,5),2&e){let i;r.iGM(i=r.CRH())&&(n.payPalButtonContainer=i.first)}},inputs:{config:"config",registerScript:"registerScript"},outputs:{scriptLoaded:"scriptLoaded"},features:[r.TTD],decls:2,vars:1,consts:[[3,"id"],["payPalButtonContainer",""]],template:function(e,n){1&e&&r._UZ(0,"div",0,1),2&e&&r.Q6J("id",n.payPalButtonContainerId)},encapsulation:2,changeDetection:0}),t})(),f=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({providers:[y,P],imports:[[d.ez]]}),t})();const S=[{path:"",component:(()=>{class t{constructor(){}onResize(e){this.screenHeight="height:"+e.target.innerHeight+"px;"}ngOnInit(){this.screenHeight="height:"+window.innerHeight+"px;",this.initConfig()}initConfig(){this.payPalConfig={clientId:"AW-1tt26i7klVoCqcbnBIVk5bD6b2JPyVWm5XAa4DIxfGckrY_3rQnGOS35q83W1tjNLCTI7g14QQeoL",createSubscriptionOnClient:e=>({plan_id:"P-5NS677584R724382KMIP7NGI"}),advanced:{commit:"true",extraQueryParams:[{name:"vault",value:"true"},{name:"intent",value:"subscription"}]},style:{shape:"rect",color:"gold",layout:"vertical",label:"subscribe"},onApprove:(e,n)=>{console.log("You have successfully created subscription "+e.subscriptionID)},onClientAuthorization:e=>{console.log("onClientAuthorization - you should probably inform your server about completed transaction at this point",e)},onCancel:(e,n)=>{console.log("OnCancel",e,n)},onError:e=>{console.log("OnError",e)},onClick:(e,n)=>{console.log("onClick",e,n)}}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Xpm({type:t,selectors:[["app-checkout-paypal"]],hostBindings:function(e,n){1&e&&r.NdJ("resize",function(l){return n.onResize(l)},!1,r.Jf7)},decls:14,vars:3,consts:[[1,"container-fluid"],[1,"row","h-100"],[1,"col-12","col-lg-6","text-center","align-self-center"],["src","https://picsum.photos/320/480","alt","none",1,"img-fluid"],[1,"col-12","col-lg-6","align-self-center"],[1,"container"],[1,"row","g-4"],[1,"col-12"],[1,"mb-5"],[1,"col-12","jrxUCF"],[1,"m-0","mb-3"],[3,"config"]],template:function(e,n){1&e&&(r.TgZ(0,"div",0)(1,"div",1)(2,"div",2),r._UZ(3,"img",3),r.qZA(),r.TgZ(4,"div",4)(5,"div",5)(6,"div",6)(7,"div",7)(8,"h1",8),r._uU(9,"Titulo Adquierelo YA!!!"),r.qZA()(),r.TgZ(10,"div",9)(11,"p",10),r._uU(12,"Subtitle"),r.qZA(),r._UZ(13,"ngx-paypal",11),r.qZA()()()()()()),2&e&&(r.Akn(n.screenHeight),r.xp6(13),r.Q6J("config",n.payPalConfig))},directives:[g],styles:["",".jrxUCF[_ngcontent-%COMP%] {\n        background-color: rgb(42, 42, 42);\n        padding: 16px;\n        \n        \n    }"]}),t})()}];let O=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({imports:[[h.Bz.forChild(S)],h.Bz]}),t})(),k=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({imports:[[d.ez,O,f]]}),t})()}}]);